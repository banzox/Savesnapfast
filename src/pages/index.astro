---
export const prerender = true;
import Layout from "../layouts/Layout.astro";
import Downloader from "../components/Downloader.jsx";
import FAQ from "../components/FAQ.astro";
import {
  getLangFromUrl,
  useTranslations,
  getTranslations,
} from "../utils/i18n";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
const translations = getTranslations(lang);
---

<Layout title={t("meta.title")} description={t("meta.description")} lang={lang}>
  <div class="main-wrapper">
    <article class="hero-section text-center w-full">
      <h1 class="text-2xl md:text-4xl font-bold mb-4">
        {t("hero.title")}
        <span style="color: var(--secondary);"
          >({t("downloader.hd_quality")})</span
        >
      </h1>
      <p class="text-base md:text-lg mb-8 max-w-2xl mx-auto">
        {t("hero.desc")}
      </p>

      <!-- Client-Side Downloader -->
      <Downloader client:load messages={translations.downloader} />
    </article>
  </div>

  <!-- Features Grid (Static) -->
  <section class="container features-grid">
    <div class="feature-card">
      <i class="fas fa-magic"></i>
      <h3>{t("features.no_watermark.title")}</h3>
      <p>{t("features.no_watermark.desc")}</p>
    </div>
    <div class="feature-card">
      <i class="fas fa-bolt"></i>
      <h3>{t("features.fast.title")}</h3>
      <p>{t("features.fast.desc")}</p>
    </div>
    <div class="feature-card">
      <i class="fas fa-hd"></i>
      <h3>{t("features.quality.title")}</h3>
      <p>{t("features.quality.desc")}</p>
    </div>
    <div class="feature-card">
      <i class="fas fa-mobile-alt"></i>
      <h3>{t("features.device.title")}</h3>
      <p>{t("features.device.desc")}</p>
    </div>
    <div class="feature-card">
      <i class="fas fa-infinity"></i>
      <h3>{t("features.unlimited.title")}</h3>
      <p>{t("features.unlimited.desc")}</p>
    </div>
    <div class="feature-card">
      <i class="fas fa-shield-alt"></i>
      <h3>{t("features.safe.title")}</h3>
      <p>{t("features.safe.desc")}</p>
    </div>
  </section>

  <FAQ t={t} items={translations?.faqs || []} />
</Layout>
