---
// export const prerender = true; // DISABLED FOR SSR
import DownloadPage from "../../components/DownloadPage.astro";
import { languages, defaultLang } from "../../i18n/ui";

// Server Side Rendering (SSR) - No getStaticPaths needed
// This ensures the page accepts ANY lang param allowed by config

const { lang } = Astro.params;
const currentLang = (lang || defaultLang) as keyof typeof languages;

// Validate lang
if (currentLang !== defaultLang && !languages[currentLang]) {
    return Astro.redirect("/404");
}
---

<DownloadPage
    lang={currentLang}
    pagePrefix="slideshow_page"
    mode="slideshow"
    showAd={true}
/>
