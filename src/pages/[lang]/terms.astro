---
import TextPage from "../../components/TextPage.astro";
import { languages } from "../../i18n/ui";
import NotFound from "../../components/NotFound.astro";

export const prerender = true;

const { lang } = Astro.params;
const isValidLang = lang && languages[lang as keyof typeof languages];

if (!isValidLang) {
    Astro.response.status = 404;
    Astro.response.statusText = "Not Found";
}

export function getStaticPaths() {
    return Object.keys(languages).map((lang) => ({ params: { lang } }));
}
---

{
    isValidLang ? (
        <TextPage
            titleKey="nav.terms"
            contentKey="pages.terms.content"
            lang={lang}
        />
    ) : (
        <NotFound />
    )
}
