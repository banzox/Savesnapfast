---
import Layout from "../../layouts/Layout.astro";
import { ui, defaultLang, languages } from "../../i18n/ui";

export async function getStaticPaths() {
    return Object.keys(languages).map((lang) => ({ params: { lang } }));
}

const { lang } = Astro.params;
const currentLang = lang || defaultLang;

// Helper to get translation
function t(key: keyof (typeof ui)[typeof defaultLang]) {
    return ui[currentLang][key] || ui[defaultLang][key] || key;
}

// Content is pre-lined in CSS or we use Fragment with <br/>?
// The text in ui.ts has \n. We need to render it properly.
// We can use style="white-space: pre-line"
---

<Layout
    title={t("pages.privacy.title")}
    description={t("pages.privacy.content").substring(0, 150)}
    lang={currentLang}
>
    <div class="container" style="margin-top: 120px; padding: 2rem;">
        <article
            class="content-box"
            style="background: var(--glass); padding: 3rem; border-radius: 25px; border: 1px solid var(--border);"
        >
            <h1 style="color: var(--secondary); margin-bottom: 1.5rem;">
                {t("pages.privacy.title")}
            </h1>
            <div style="white-space: pre-line; line-height: 1.8; opacity: 0.9;">
                {t("pages.privacy.content")}
            </div>
        </article>
    </div>
</Layout>
